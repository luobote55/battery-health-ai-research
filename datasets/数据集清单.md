# 电池数据集清单

## 公开数据集

### 1. MIT Battery Dataset ⭐⭐⭐⭐⭐

**简介**: 麻省理工学院提供的124节锂电池完整生命周期数据,是电池RUL预测领域的标杆数据集。

**数据详情**:
- 电池数量: 124节18650锂电池
- 充放电循环: 每节电池500-2000次循环
- 采集参数: 电压、电流、温度、容量
- 工况条件: 不同充电策略(恒流/恒压)
- 数据格式: .mat文件

**下载地址**:
- 官方: https://data.matr.io/1/
- 镜像: https://www.nature.com/articles/s41560-019-0356-8

**引用论文**:
> Severson et al. "Data-driven prediction of battery cycle life before capacity degradation" Nature Energy, 2019

**适用场景**:
- ✅ SOH预测
- ✅ RUL预测
- ✅ 迁移学习预训练

**数据量**: 约2.5GB

**下载命令**:
```bash
cd datasets/公开数据集
wget https://data.matr.io/1/projects/5c48dd2bc625d700019f3204/files/5d70cf83d3eaf200094d8df8/download -O MIT_battery_dataset.zip
unzip MIT_battery_dataset.zip
```

---

### 2. NASA Battery Dataset ⭐⭐⭐⭐

**简介**: NASA艾姆斯研究中心提供的锂电池老化数据,包含不同温度和放电倍率的实验。

**数据详情**:
- 电池数量: 34节18650锂电池
- 充放电循环: 100-300次循环
- 采集参数: 电压、电流、温度、阻抗
- 工况条件: 3种温度(4°C, 24°C, 43°C)
- 数据格式: .mat文件

**下载地址**:
- 官方: https://ti.arc.nasa.gov/tech/dash/groups/pcoe/prognostic-data-repository/
- 数据集名: Battery Data Set

**适用场景**:
- ✅ 多温度条件下的SOH预测
- ✅ 电化学阻抗谱(EIS)分析
- ✅ 温度影响研究

**数据量**: 约500MB

---

### 3. CALCE Battery Dataset ⭐⭐⭐⭐

**简介**: 马里兰大学先进生命周期工程中心(CALCE)提供的商业电池老化数据。

**数据详情**:
- 电池类型: 多种型号(18650、圆柱形等)
- 充放电循环: 长期老化实验
- 采集参数: 电压、电流、容量、内阻
- 工况条件: 多种充放电策略
- 数据格式: .xlsx, .csv

**下载地址**:
- 官方: https://calce.umd.edu/battery-data

**适用场景**:
- ✅ 多电池类型对比
- ✅ 内阻增长建模
- ✅ 商业电池性能评估

**数据量**: 约1GB

---

### 4. Oxford Battery Degradation Dataset ⭐⭐⭐

**简介**: 牛津大学提供的动力电池快充老化数据。

**数据详情**:
- 电池数量: 8节大容量锂电池
- 充放电循环: 约2000次循环
- 采集参数: 电压、电流、温度、容量衰减
- 工况条件: 快充实验(1C-5C充电倍率)
- 数据格式: .csv

**下载地址**:
- 官方: https://ora.ox.ac.uk/objects/uuid:03ba4b01-cfed-46d3-9b1a-7d4a7bdf6fac

**适用场景**:
- ✅ 快充工况SOH预测
- ✅ 充电策略优化研究

**数据量**: 约300MB

---

### 5. SNL Battery Archive ⭐⭐⭐

**简介**: 桑迪亚国家实验室(Sandia National Laboratories)提供的电池测试数据。

**数据详情**:
- 电池类型: 储能电池、动力电池
- 数据来源: 真实应用场景
- 采集参数: 全面的BMS数据
- 数据格式: .csv, .hdf5

**下载地址**:
- 官方: https://www.batteryarchive.org/

**适用场景**:
- ✅ 储能电站应用研究
- ✅ 真实工况数据分析

---

### 6. Toyota Research Institute Dataset ⭐⭐⭐

**简介**: 丰田研究院提供的电池快速充电优化数据。

**数据详情**:
- 电池数量: 224节电池
- 充放电循环: 优化充电策略实验
- 采集参数: 电压、电流、温度、循环寿命
- 数据格式: .csv

**下载地址**:
- 官方: https://data.matr.io/1/projects/5c48dd2bc625d700019f3204

**适用场景**:
- ✅ 充电策略优化
- ✅ 强化学习应用

---

## 数据集对比

| 数据集 | 电池数量 | 循环次数 | 数据量 | 推荐度 | 适合场景 |
|--------|---------|---------|--------|--------|---------|
| MIT | 124 | 500-2000 | 2.5GB | ⭐⭐⭐⭐⭐ | SOH/RUL预测 |
| NASA | 34 | 100-300 | 500MB | ⭐⭐⭐⭐ | 多温度研究 |
| CALCE | 多型号 | 长期 | 1GB | ⭐⭐⭐⭐ | 商业电池 |
| Oxford | 8 | ~2000 | 300MB | ⭐⭐⭐ | 快充研究 |
| SNL | 多场景 | 真实 | 大 | ⭐⭐⭐ | 储能应用 |
| Toyota | 224 | 优化 | 中 | ⭐⭐⭐ | 策略优化 |

---

## 数据处理工具推荐

### 1. PyBaMM
**用途**: 电池物理模型仿真,可生成合成数据
**安装**: `pip install pybamm`
**GitHub**: pybamm-team/PyBaMM

### 2. BatteryML
**用途**: 微软开源的电池数据处理工具
**安装**: `pip install batteryml`
**GitHub**: microsoft/BatteryML

### 3. scipy.io
**用途**: 读取.mat格式数据
**安装**: `pip install scipy`

---

## 数据预处理脚本

### 读取MIT数据集
```python
import scipy.io as sio
import pandas as pd
import numpy as np

# 读取.mat文件
data = sio.loadmat('datasets/公开数据集/MIT/batch1.mat')

# 提取电池数据
batteries = data['batch'][0][0]['cycles'][0]

# 转换为DataFrame
for i, battery in enumerate(batteries):
    voltage = battery['V'][0][0]
    current = battery['I'][0][0]
    temperature = battery['T'][0][0]
    capacity = battery['Qc'][0][0]

    df = pd.DataFrame({
        'voltage': voltage.flatten(),
        'current': current.flatten(),
        'temperature': temperature.flatten()
    })

    df.to_csv(f'processed/battery_{i}.csv', index=False)
```

### 特征提取
```python
def extract_features(battery_data):
    """提取电池特征"""
    features = {}

    # 充电特征
    features['charge_time'] = battery_data['charge_duration'].mean()
    features['charge_capacity'] = battery_data['charge_capacity'].mean()

    # 放电特征
    features['discharge_capacity'] = battery_data['discharge_capacity'].mean()
    features['discharge_energy'] = battery_data['discharge_energy'].mean()

    # 温度特征
    features['avg_temperature'] = battery_data['temperature'].mean()
    features['max_temperature'] = battery_data['temperature'].max()

    # 内阻特征(如有)
    if 'resistance' in battery_data:
        features['resistance'] = battery_data['resistance'].mean()

    return features
```

---

## 数据标注

### SOH计算
```python
def calculate_soh(current_capacity, rated_capacity):
    """计算SOH"""
    return (current_capacity / rated_capacity) * 100

# 示例
rated_capacity = 1.1  # Ah
current_capacity = 0.95  # Ah
soh = calculate_soh(current_capacity, rated_capacity)
print(f"SOH: {soh:.2f}%")  # 输出: SOH: 86.36%
```

### RUL标注
```python
def calculate_rul(capacity_history, eol_threshold=0.8):
    """
    计算RUL(剩余循环次数)
    eol_threshold: SOH低于此值视为寿命终止
    """
    for i, capacity in enumerate(capacity_history):
        if capacity < eol_threshold:
            return len(capacity_history) - i
    return None  # 未达到EOL
```

---

## 下载脚本

### 批量下载MIT数据集
```bash
#!/bin/bash
# download_mit_dataset.sh

mkdir -p datasets/公开数据集/MIT
cd datasets/公开数据集/MIT

# 下载batch1-3
for i in {1..3}; do
    echo "Downloading batch$i..."
    wget https://data.matr.io/1/projects/5c48dd2bc625d700019f3204/files/batch$i.mat
done

echo "Download complete!"
```

### Python下载脚本
```python
import requests
import os

def download_dataset(url, save_path):
    """下载数据集"""
    os.makedirs(os.path.dirname(save_path), exist_ok=True)

    response = requests.get(url, stream=True)
    total_size = int(response.headers.get('content-length', 0))

    with open(save_path, 'wb') as f:
        downloaded = 0
        for chunk in response.iter_content(chunk_size=8192):
            f.write(chunk)
            downloaded += len(chunk)
            print(f"Progress: {downloaded/total_size*100:.1f}%", end='\r')

    print(f"\nDownloaded: {save_path}")

# 使用示例
download_dataset(
    url="https://data.matr.io/1/...",
    save_path="datasets/公开数据集/MIT/batch1.mat"
)
```

---

## 数据使用注意事项

1. **引用要求**: 使用数据集请引用原始论文
2. **许可协议**: 查看各数据集的使用许可
3. **数据质量**: 注意异常值和缺失值处理
4. **版本管理**: 记录数据集版本和下载日期

---

**更新时间**: 2025-01-24
**维护者**: 研究团队
